<!-- Add Indicator Modal -->
<div id="addIndicatorModal" class="modal" style="display: none;">
  <div class="modal-content" style="max-width: 500px;">
    <div class="modal-header">
      <h3>Add Indicator</h3>
      <button class="modal-close" onclick="document.getElementById('addIndicatorModal').style.display='none'">&times;</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label>Indicator Type</label>
        <select id="indicatorTypeSelect" class="form-input">
          <option value="">-- Select Indicator --</option>
          <optgroup label="Moving Averages">
            <option value="SMA" title="Simple Moving Average - arithmetic mean over period">SMA - Simple Moving Average</option>
            <option value="EMA" title="Exponential Moving Average - gives more weight to recent prices">EMA - Exponential Moving Average</option>
            <option value="HMA" title="Hull Moving Average - reduced lag using weighted averages">HMA - Hull Moving Average</option>
            <option value="KAMA" title="Kaufman Adaptive Moving Average - adjusts to market volatility">KAMA - Kaufman Adaptive MA</option>
          </optgroup>
          <optgroup label="Bands & Channels">
            <option value="BB" title="Bollinger Bands - volatility bands around SMA">BB - Bollinger Bands</option>
            <option value="KC" title="Keltner Channels - volatility bands using ATR">KC - Keltner Channels</option>
          </optgroup>
          <optgroup label="Oscillators">
            <option value="RSI" title="Relative Strength Index - momentum oscillator (0-100)">RSI - Relative Strength Index</option>
            <option value="ATR" title="Average True Range - measures volatility">ATR - Average True Range</option>
          </optgroup>
        </select>
      </div>
      
      <!-- Parameters will be shown based on indicator type -->
      <div id="indicatorParamsContainer" style="display: none;">
        <!-- MA Parameters -->
        <div id="maParams" style="display: none;">
          <div class="form-group">
            <label>Period</label>
            <input type="number" id="maPeriod" class="form-input" value="20" min="1" max="500">
          </div>
        </div>
        
        <!-- KAMA Parameters -->
        <div id="kamaParams" style="display: none;">
          <div class="form-group">
            <label>Period</label>
            <input type="number" id="kamaPeriod" class="form-input" value="20" min="1" max="500">
          </div>
          <div class="form-group">
            <label>Fast</label>
            <input type="number" id="kamaFast" class="form-input" value="2" min="1" max="100">
          </div>
          <div class="form-group">
            <label>Slow</label>
            <input type="number" id="kamaSlow" class="form-input" value="30" min="1" max="100">
          </div>
        </div>
        
        <!-- Bollinger Bands Parameters -->
        <div id="bbParams" style="display: none;">
          <div class="form-group">
            <label>Period</label>
            <input type="number" id="bbPeriod" class="form-input" value="20" min="1" max="500">
          </div>
          <div class="form-group">
            <label>Standard Deviations</label>
            <input type="number" id="bbStdDev" class="form-input" value="2" min="0.5" max="5" step="0.1">
          </div>
        </div>
        
        <!-- Keltner Channels Parameters -->
        <div id="kcParams" style="display: none;">
          <div class="form-group">
            <label>Period</label>
            <input type="number" id="kcPeriod" class="form-input" value="20" min="1" max="500">
          </div>
          <div class="form-group">
            <label>ATR Multiplier</label>
            <input type="number" id="kcMultiplier" class="form-input" value="2" min="0.5" max="5" step="0.1">
          </div>
        </div>
        
        <!-- RSI Parameters -->
        <div id="rsiParams" style="display: none;">
          <div class="form-group">
            <label>Period</label>
            <input type="number" id="rsiPeriod" class="form-input" value="14" min="1" max="500">
          </div>
        </div>
        
        <!-- ATR Parameters -->
        <div id="atrParams" style="display: none;">
          <div class="form-group">
            <label>Period</label>
            <input type="number" id="atrPeriod" class="form-input" value="14" min="1" max="500">
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn" onclick="document.getElementById('addIndicatorModal').style.display='none'">Cancel</button>
      <button id="addIndicatorBtn" class="btn btn-primary">Add Indicator</button>
    </div>
  </div>
</div>
